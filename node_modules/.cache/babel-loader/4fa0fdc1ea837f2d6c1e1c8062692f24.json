{"ast":null,"code":"import _slicedToArray from \"D:\\\\MASTER KEE PROJECT\\\\MASTER PROJECT\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\MASTER KEE PROJECT\\\\MASTER PROJECT\\\\client\\\\src\\\\views\\\\Stream.js\";\nimport React from 'react';\nimport Navbar from '../component/Navbar';\n\nconst Stream = props => {\n  const _React$useState = React.useState({\n    camera: true,\n    audio: true\n  }),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        media = _React$useState2[0],\n        setMedia = _React$useState2[1];\n\n  const demarrerClick = () => {\n    navigator.mediaDevices.getUserMedia({\n      camera: media.camera,\n      audio: media.audio\n    }, stream => {\n      let emitterVideo = document.getElementById(\"emitter-video\");\n\n      if (\"srcObject\" in emitterVideo) {\n        console.log(\"srcObject est présent\");\n      }\n\n      const blob = new Blob([stream], {\n        type: \"application/octet-binary\"\n      });\n      emitterVideo.srcObject = stream;\n      console.log(emitterVideo.src);\n      emitterVideo.play();\n    }, err => {});\n  };\n\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, React.createElement(Navbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"container mt-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-sm-6 p-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, \"Vous\"), React.createElement(\"video\", {\n    id: \"receiver-video\",\n    width: \"100%\",\n    height: \"300px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-xm btn-outline-info\",\n    onClick: demarrerClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, \"d\\xE9marrer\"), React.createElement(\"button\", {\n    className: \"btn btn-xm btn-outline-info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"audio\"), React.createElement(\"button\", {\n    className: \"btn btn-xm btn-outline-info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"camera\"))), React.createElement(\"div\", {\n    className: \"col-sm-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Em\\xE8tteur\"), React.createElement(\"video\", {\n    controls: true,\n    id: \"emitter-video\",\n    width: \"100%\",\n    height: \"300px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  })))));\n};\n\nexport default Stream;","map":{"version":3,"sources":["D:\\MASTER KEE PROJECT\\MASTER PROJECT\\client\\src\\views\\Stream.js"],"names":["React","Navbar","Stream","props","useState","camera","audio","media","setMedia","demarrerClick","navigator","mediaDevices","getUserMedia","stream","emitterVideo","document","getElementById","console","log","blob","Blob","type","srcObject","src","play","err"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;;AAEA,MAAMC,MAAM,GAAGC,KAAK,IAAG;AAAA,0BACQH,KAAK,CAACI,QAAN,CAAe;AAACC,IAAAA,MAAM,EAAE,IAAT;AAAeC,IAAAA,KAAK,EAAE;AAAtB,GAAf,CADR;AAAA;AAAA,QACZC,KADY;AAAA,QACLC,QADK;;AAGnB,QAAMC,aAAa,GAAG,MAAM;AACxBC,IAAAA,SAAS,CAACC,YAAV,CAAuBC,YAAvB,CAAoC;AAChCP,MAAAA,MAAM,EAAEE,KAAK,CAACF,MADkB;AAEhCC,MAAAA,KAAK,EAAEC,KAAK,CAACD;AAFmB,KAApC,EAGGO,MAAD,IAAW;AACT,UAAIC,YAAY,GAAGC,QAAQ,CAACC,cAAT,CAAwB,eAAxB,CAAnB;;AACA,UAAG,eAAeF,YAAlB,EAA+B;AAC3BG,QAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACH;;AACD,YAAMC,IAAI,GAAI,IAAIC,IAAJ,CAAS,CAACP,MAAD,CAAT,EAAmB;AAAEQ,QAAAA,IAAI,EAAE;AAAR,OAAnB,CAAd;AACAP,MAAAA,YAAY,CAACQ,SAAb,GAAyBT,MAAzB;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAYJ,YAAY,CAACS,GAAzB;AACAT,MAAAA,YAAY,CAACU,IAAb;AACH,KAZD,EAYIC,GAAD,IAAS,CAAE,CAZd;AAaH,GAdD;;AAeA,SACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,EAEI;AAAQ,IAAA,EAAE,EAAC,gBAAX;AAA4B,IAAA,KAAK,EAAC,MAAlC;AAAyC,IAAA,MAAM,EAAC,OAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AACI,IAAA,SAAS,EAAC,6BADd;AAEI,IAAA,OAAO,EAAKhB,aAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,EAKI;AAAQ,IAAA,SAAS,EAAC,6BAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aALJ,EAMI;AAAQ,IAAA,SAAS,EAAC,6BAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANJ,CAHJ,CADJ,EAcI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,EAEI;AAAO,IAAA,QAAQ,MAAf;AAAgB,IAAA,EAAE,EAAC,eAAnB;AAAmC,IAAA,KAAK,EAAC,MAAzC;AAAgD,IAAA,MAAM,EAAC,OAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAdJ,CADJ,CAFJ,CADJ;AA2BH,CA7CD;;AA+CA,eAAeP,MAAf","sourcesContent":["import React from 'react';\r\nimport Navbar from '../component/Navbar'\r\n\r\nconst Stream = props =>{\r\n    const [media, setMedia ] = React.useState({camera: true, audio: true })\r\n\r\n    const demarrerClick = () => {\r\n        navigator.mediaDevices.getUserMedia({\r\n            camera: media.camera,\r\n            audio: media.audio\r\n        },(stream) =>{\r\n            let emitterVideo = document.getElementById(\"emitter-video\");\r\n            if(\"srcObject\" in emitterVideo){\r\n                console.log(\"srcObject est présent\")\r\n            }\r\n            const blob  = new Blob([stream], { type: \"application/octet-binary\"})\r\n            emitterVideo.srcObject = stream;\r\n            console.log(emitterVideo.src)\r\n            emitterVideo.play();\r\n        }, (err) => {})\r\n    }\r\n    return(\r\n        <React.Fragment>\r\n            <Navbar />\r\n            <div className=\"container mt-5\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-sm-6 p-3\">\r\n                        <h2>Vous</h2>\r\n                        <video  id=\"receiver-video\" width=\"100%\" height=\"300px\"></video>\r\n                        <p>\r\n                            <button \r\n                                className=\"btn btn-xm btn-outline-info\"\r\n                                onClick = { demarrerClick }\r\n                            >démarrer</button>\r\n                            <button className=\"btn btn-xm btn-outline-info\">audio</button>\r\n                            <button className=\"btn btn-xm btn-outline-info\">camera</button>\r\n                        </p>\r\n                        \r\n                    </div>\r\n                    <div className=\"col-sm-6\">\r\n                        <h2>Emètteur</h2>\r\n                        <video controls id=\"emitter-video\" width=\"100%\" height=\"300px\"></video>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default Stream;"]},"metadata":{},"sourceType":"module"}