{"ast":null,"code":"import _slicedToArray from \"D:\\\\MASTER KEE PROJECT\\\\MASTER PROJECT\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\MASTER KEE PROJECT\\\\MASTER PROJECT\\\\client\\\\src\\\\component\\\\UploadModal.js\";\nimport React from 'react';\nimport { create } from '../assets/js/filepond';\nexport default function (prop) {\n  const filesRef = React.createRef();\n\n  const _React$useState = React.useState(\"\"),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        error = _React$useState2[0],\n        setError = _React$useState2[1];\n\n  let pond;\n\n  const handleClick = () => {\n    if (!filesRef.length < 0) {\n      return setError([\"Vous devez selectionnez le fichier à uploader avant de cliquez sur uploder\"]);\n    }\n\n    let xhr = new XMLHttpRequest();\n    xhr.open(\"post\", \"http://localhost:9001/upload\");\n    xhr.setRequestHeader(\"Content-Type\", \"multipart/form-data\");\n    let form = new FormData();\n    form.append('kratosFiles', \"pond.getFiles()\");\n    xhr.upload.addEventListener('progress', data => {\n      console.log(data);\n    });\n    console.log(form);\n    return xhr.send(form);\n  };\n\n  React.useEffect(function () {\n    let inputFile = document.querySelector(\"input[type='file']\");\n    pond = create(inputFile, {\n      multiple: true,\n      labelIdle: \"Cliquez ou Glisser déposer vos fichiers à uploader \",\n      styleLoadIndicatorPosition: 'center bottom',\n      styleProgressIndicatorPosition: 'right bottom',\n      styleButtonRemoveItemPosition: 'left bottom',\n      styleButtonProcessItemPosition: 'right bottom'\n    });\n  });\n  return React.createElement(\"div\", {\n    className: \"modal fade\",\n    \"data-keyboard\": \"true\",\n    \"data-backdrop\": \"static\",\n    id: \"kratosModal\",\n    tabIndex: \"-1\",\n    role: \"dialog\",\n    \"aria-labelledby\": \"exampleModalCenterTitle\",\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"modal-dialog modal-dialog-centered\",\n    role: \"document\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"modal-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"modal-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"modal-title\",\n    id: \"exampleModalCenterTitle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Upload\\xE9\"), React.createElement(\"button\", {\n    type: \"button\",\n    id: \"myCloseButton\",\n    className: \"close\",\n    \"data-dismiss\": \"modal\",\n    \"aria-label\": \"Close\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"\\xD7\"))), React.createElement(\"div\", {\n    className: \"modal-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, error && React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    role: \"alert\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, error), React.createElement(\"form\", {\n    className: \"demo\",\n    id: \"demo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"filepond-ripple filepond-ripple-one\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"filepond-ripple filepond-ripple-two\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"filepond-ripple filepond-ripple-three\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"filepond-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"file\",\n    name: \"filepond\",\n    className: \"filepond\",\n    \"data-allow-reorder\": \"true\",\n    \"data-max-file-size\": \"3MB\",\n    \"data-max-files\": \"5\",\n    multiple: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"progress\",\n    style: {\n      height: \"35px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"progress-bar\",\n    role: \"progressbar\",\n    style: {\n      width: 0\n    },\n    \"aria-valuenow\": \"30\",\n    \"aria-valuemin\": \"0\",\n    \"aria-valuemax\": \"100\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"0%\"))), React.createElement(\"div\", {\n    className: \"modal-footer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-danger\",\n    \"data-dismiss\": \"modal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"Ferm\\xE9\"), React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-outline-primary\",\n    onClick: handleClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fa fa-upload p-1\",\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), \"Envoy\\xE9\")))));\n}","map":{"version":3,"sources":["D:\\MASTER KEE PROJECT\\MASTER PROJECT\\client\\src\\component\\UploadModal.js"],"names":["React","create","prop","filesRef","createRef","useState","error","setError","pond","handleClick","length","xhr","XMLHttpRequest","open","setRequestHeader","form","FormData","append","upload","addEventListener","data","console","log","send","useEffect","inputFile","document","querySelector","multiple","labelIdle","styleLoadIndicatorPosition","styleProgressIndicatorPosition","styleButtonRemoveItemPosition","styleButtonProcessItemPosition","height","width"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { create } from '../assets/js/filepond';\r\n\r\nexport default function(prop) {\r\n\r\nconst filesRef = React.createRef();\r\nconst [error, setError] =  React.useState(\"\");\r\nlet pond;\r\n\r\nconst handleClick = () => {\r\n\r\n        if(!filesRef.length < 0){\r\n            return  setError([\"Vous devez selectionnez le fichier à uploader avant de cliquez sur uploder\"])\r\n        }\r\n\r\n        let xhr = new XMLHttpRequest();\r\n        xhr.open(\"post\", \"http://localhost:9001/upload\");\r\n        xhr.setRequestHeader(\"Content-Type\",\"multipart/form-data\");\r\n\r\n        let form =  new FormData();\r\n        form.append('kratosFiles', \"pond.getFiles()\");\r\n\r\n        xhr.upload.addEventListener('progress', (data) => {\r\n           console.log(data);\r\n        });\r\n\r\n        console.log(form);       \r\n        return xhr.send(form);\r\n    \r\n}\r\nReact.useEffect(function(){\r\n    let inputFile = document.querySelector(\"input[type='file']\");\r\n        pond = create(inputFile,{\r\n        multiple: true ,\r\n        labelIdle: \"Cliquez ou Glisser déposer vos fichiers à uploader \",\r\n        styleLoadIndicatorPosition: 'center bottom',\r\n        styleProgressIndicatorPosition: 'right bottom',\r\n        styleButtonRemoveItemPosition: 'left bottom',\r\n        styleButtonProcessItemPosition: 'right bottom',\r\n    });\r\n})\r\n\r\nreturn (\r\n    <div className=\"modal fade\" data-keyboard=\"true\" data-backdrop=\"static\" id=\"kratosModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\r\n    <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div className=\"modal-content\">\r\n        <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\" id=\"exampleModalCenterTitle\">Uploadé</h5>\r\n            <button type=\"button\" id=\"myCloseButton\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n        </div>\r\n        <div className=\"modal-body\">\r\n        {error && <div className=\"alert alert-danger\" role=\"alert\">{error}</div>}\r\n            <form className=\"demo\" id=\"demo\">\r\n                <div className=\"filepond-ripple filepond-ripple-one\"></div>\r\n                <div className=\"filepond-ripple filepond-ripple-two\"></div>\r\n                <div className=\"filepond-ripple filepond-ripple-three\"></div>\r\n                <div className=\"filepond-wrapper\">\r\n                    <input \r\n                        type=\"file\"\r\n                        name=\"filepond\"\r\n                        className=\"filepond\"\r\n                        data-allow-reorder=\"true\"\r\n                        data-max-file-size=\"3MB\"\r\n                        data-max-files=\"5\"\r\n                        multiple\r\n                        />\r\n                </div>\r\n            </form>\r\n            <div className=\"progress\" style={{ height: \"35px\"}}>\r\n                <div className=\"progress-bar\" role=\"progressbar\" style={{width: 0}}  aria-valuenow=\"30\" aria-valuemin=\"0\" aria-valuemax=\"100\">0%</div>\r\n            </div>\r\n        </div>\r\n        <div className=\"modal-footer\">\r\n            <button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\">Fermé</button>\r\n            <button \r\n                type=\"button\" \r\n                className=\"btn btn-outline-primary\" \r\n                onClick={handleClick}\r\n            ><i className=\"fa fa-upload p-1\" aria-hidden=\"true\"></i>Envoyé</button>\r\n        </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n)\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}