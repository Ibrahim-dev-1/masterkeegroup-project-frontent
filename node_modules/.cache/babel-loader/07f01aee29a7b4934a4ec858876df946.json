{"ast":null,"code":"import _slicedToArray from \"D:\\\\MASTER KEE PROJECT\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\MASTER KEE PROJECT\\\\client\\\\src\\\\component\\\\UploadModal.js\";\nimport React from 'react';\nexport default function (prop) {\n  const fromEmailRef = React.createRef();\n  const toEmailRef = React.createRef();\n  const fileRef = React.createRef();\n\n  const _React$useState = React.useState(\"\"),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        error = _React$useState2[0],\n        setError = _React$useState2[1];\n\n  const handleClick = () => {\n    // const to = toEmailRef.current.value;\n    // const from = fromEmailRef.current.value;\n    const filePath = fileRef.current.value;\n\n    if (!filePath) {\n      setError(\"Vous devez selectionnez le fichier à uploader avant de cliquez sur uploder\");\n      return setTimeout(function () {\n        setError(\"\");\n      }, 3000);\n    }\n\n    if (error === \"\") {\n      let xhr = new XMLHttpRequest();\n      let formData = new FormData(form);\n      xhr.open(\"post\", \"upload\");\n      console.log(xhr);\n      xhr.upload.addEventListener(\"progress\", ev => {\n        const progress = Math.round(ev.loaded / ev.total * 100);\n        pourcentage.textContent = progress + \"%\";\n        pourcentage.style.width = \"\".concat(progress, \"%\");\n\n        if (ev.loaded === ev.total) {\n          alert(\"Le fichier à bien été uploadé \");\n          pourcentage.style.width = \"0%\";\n          pourcentage.textContent = \"0%\";\n        }\n      });\n      xhr.send(formData);\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"modal fade\",\n    \"data-keyboard\": \"true\",\n    \"data-backdrop\": \"static\",\n    id: \"kratosModal\",\n    tabIndex: \"-1\",\n    role: \"dialog\",\n    \"aria-labelledby\": \"exampleModalCenterTitle\",\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"modal-dialog modal-dialog-centered\",\n    role: \"document\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"modal-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"modal-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"modal-title\",\n    id: \"exampleModalCenterTitle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Upload\\xE9\"), React.createElement(\"button\", {\n    type: \"button\",\n    className: \"close\",\n    \"data-dismiss\": \"modal\",\n    \"aria-label\": \"Close\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"\\xD7\"))), React.createElement(\"div\", {\n    className: \"modal-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, error && React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    role: \"alert\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, error), React.createElement(\"form\", {\n    id: \"myForm\",\n    encType: \"multipart/form-data\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"from\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Email de l'envoyeur (Optionnel)\"), React.createElement(\"div\", {\n    className: \"input-group mb-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"input-group-prepend\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"input-group-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"@\")), React.createElement(\"input\", {\n    ref: fromEmailRef,\n    type: \"mail\",\n    className: \"form-control\",\n    id: \"from\",\n    placeholder: \"Votre Email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"to\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Email du destinataire (Optionnel)\"), React.createElement(\"div\", {\n    className: \"input-group mb-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"input-group-prepend\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"input-group-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"@\")), React.createElement(\"input\", {\n    ref: toEmailRef,\n    type: \"mail\",\n    className: \"form-control\",\n    id: \"tp\",\n    placeholder: \"Destinataire Email \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    ref: fileRef,\n    type: \"file\",\n    required: true,\n    className: \"form-control\",\n    name: \"myFile\",\n    id: \"fichier\",\n    placeholder: \"Choisir un fichier *\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  })))), React.createElement(\"div\", {\n    className: \"modal-footer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-secondary\",\n    \"data-dismiss\": \"modal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Ferm\\xE9\"), React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-primary\",\n    onClick: handleClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"Envoy\\xE9\")))));\n}","map":{"version":3,"sources":["D:\\MASTER KEE PROJECT\\client\\src\\component\\UploadModal.js"],"names":["React","prop","fromEmailRef","createRef","toEmailRef","fileRef","useState","error","setError","handleClick","filePath","current","value","setTimeout","xhr","XMLHttpRequest","formData","FormData","form","open","console","log","upload","addEventListener","ev","progress","Math","round","loaded","total","pourcentage","textContent","style","width","alert","send"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nexport default function(prop) {\r\n\r\nconst fromEmailRef = React.createRef();\r\nconst toEmailRef = React.createRef();\r\nconst fileRef = React.createRef();\r\n\r\nconst [error, setError] =  React.useState(\"\");\r\nconst handleClick = () => {\r\n    // const to = toEmailRef.current.value;\r\n    // const from = fromEmailRef.current.value;\r\n    const filePath = fileRef.current.value;\r\n    \r\n    if(!filePath){\r\n        setError(\"Vous devez selectionnez le fichier à uploader avant de cliquez sur uploder\")\r\n        return setTimeout(function(){setError(\"\")}, 3000)\r\n    }\r\n    \r\n    if(error === \"\"){\r\n        let xhr = new XMLHttpRequest();\r\n        let formData = new FormData(form);\r\n        xhr.open(\"post\", \"upload\");\r\n        \r\n        console.log(xhr);\r\n    \r\n        xhr.upload.addEventListener(\"progress\", (ev) => {\r\n            const progress = Math.round(((ev.loaded / ev.total)*100));\r\n           pourcentage.textContent =  progress+ \"%\";\r\n           pourcentage.style.width = `${progress}%`;\r\n           if(ev.loaded === ev.total){\r\n               alert(\"Le fichier à bien été uploadé \");\r\n                pourcentage.style.width=\"0%\";\r\n                pourcentage.textContent = \"0%\"\r\n    \r\n           }\r\n        });\r\n        xhr.send(formData)\r\n    }\r\n    \r\n}\r\n\r\nreturn (\r\n    <div className=\"modal fade\" data-keyboard=\"true\" data-backdrop=\"static\" id=\"kratosModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\r\n    <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div className=\"modal-content\">\r\n        <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\" id=\"exampleModalCenterTitle\">Uploadé</h5>\r\n            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n        </div>\r\n        <div className=\"modal-body\">\r\n        {error && <div className=\"alert alert-danger\" role=\"alert\">{error}</div>}\r\n            <form id=\"myForm\" encType=\"multipart/form-data\">\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"from\">Email de l'envoyeur (Optionnel)</label>\r\n                    <div className=\"input-group mb-2\">\r\n                        <div className=\"input-group-prepend\">\r\n                            <div className=\"input-group-text\">@</div>\r\n                        </div>\r\n                        <input ref={fromEmailRef} type=\"mail\" className=\"form-control\" id=\"from\" placeholder=\"Votre Email\" />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"to\">Email du destinataire (Optionnel)</label>\r\n                    <div className=\"input-group mb-2\">\r\n                        <div className=\"input-group-prepend\">\r\n                            <div className=\"input-group-text\">@</div>\r\n                        </div>\r\n                        <input ref={toEmailRef} type=\"mail\" className=\"form-control\" id=\"tp\" placeholder=\"Destinataire Email \" />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                        <input ref={fileRef} type=\"file\" required className=\"form-control\" name=\"myFile\" id=\"fichier\" placeholder=\"Choisir un fichier *\" />\r\n                </div>\r\n            </form>\r\n        </div>\r\n        <div className=\"modal-footer\">\r\n            <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Fermé</button>\r\n            <button \r\n                type=\"button\" \r\n                className=\"btn btn-primary\" \r\n                onClick={handleClick}\r\n            >Envoyé</button>\r\n        </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n)\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}