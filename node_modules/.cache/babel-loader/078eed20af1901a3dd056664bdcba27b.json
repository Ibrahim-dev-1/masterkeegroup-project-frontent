{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Kratos\\\\Desktop\\\\PROJET BTS\\\\kratos_react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"C:\\\\Users\\\\Kratos\\\\Desktop\\\\PROJET BTS\\\\kratos_react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\Kratos\\\\Desktop\\\\PROJET BTS\\\\kratos_react\\\\src\\\\contexts\\\\employeContext.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nconst EmployeContext = React.createContext();\nconst EmployeDispatchContext = React.createContext(); //==================== LES FONCTIONS =====================//\n// ============= ADD DIVISION ==============================//\n// =============================================//\n//                 REDUCER\n//==============================================//\n\nconst rootReducer = (state, action) => {\n  switch (action.type) {\n    case \"ADD_EMPLOYE\":\n      return _objectSpread({}, state, {\n        employes: [...state.employes, action.payload]\n      });\n\n    case \"GET_EMPLOYE\":\n      return _objectSpread({}, state, {\n        employes: action.payload\n      });\n\n    default:\n      console.log(\"le type entrez est inconnue . Veuillez entrez un type d'action valide : ERROR : \" + action.type);\n      return state;\n  }\n}; // =============================================//\n//                 PROVIDER\n//==============================================//\n\n\nconst EmployeProvider = ({\n  children\n}) => {\n  const _React$useReducer = React.useReducer(rootReducer, {}),\n        _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n        state = _React$useReducer2[0],\n        dispatch = _React$useReducer2[1];\n\n  return React.createElement(EmployeContext.Provider, {\n    value: state,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(EmployeDispatchContext.Provider, {\n    value: dispatch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, children));\n}; // =============================================//\n//                 le consummer du state\n//==============================================//\n\n\nconst useEmployeContext = () => {\n  const context = React.useContext(EmployeContext);\n\n  if (context === undefined) {\n    throw new Error(\" le State doit s'uitliser dans le provider \");\n  }\n\n  return context;\n}; // =============================================//\n//                 le consummer du reducer\n//==============================================//\n\n\nconst useEmployeDispatchContext = () => {\n  const context = React.useContext(EmployeDispatchContext);\n\n  if (context === undefined) {\n    throw new Error(\" la fonction dispatch doit s'utiliser dans le provider \");\n  }\n\n  return context;\n}; //  ============================================================//\n\n\nconst getEmploye = async dispatch => {\n  console.log(\"Recupération de tous les employés dans notre base de donné backend \"); // ======= Fetch data from database\n\n  dispatch({\n    type: \"GET_EMPLOYE\"\n  }, payload);\n  console.log();\n};\n\nexport { useEmployeContext, useEmployeDispatchContext, EmployeProvider, getEmploye };","map":{"version":3,"sources":["C:\\Users\\Kratos\\Desktop\\PROJET BTS\\kratos_react\\src\\contexts\\employeContext.js"],"names":["React","EmployeContext","createContext","EmployeDispatchContext","rootReducer","state","action","type","employes","payload","console","log","EmployeProvider","children","useReducer","dispatch","useEmployeContext","context","useContext","undefined","Error","useEmployeDispatchContext","getEmploye"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,MAAMC,cAAc,GAAGD,KAAK,CAACE,aAAN,EAAvB;AACA,MAAMC,sBAAsB,GAAGH,KAAK,CAACE,aAAN,EAA/B,C,CAIA;AAEA;AAMA;AACA;AACA;;AACA,MAAME,WAAW,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACnC,UAAQA,MAAM,CAACC,IAAf;AACI,SAAK,aAAL;AACG,+BAAYF,KAAZ;AAAoBG,QAAAA,QAAQ,EAAE,CAAC,GAAGH,KAAK,CAACG,QAAV,EAAoBF,MAAM,CAACG,OAA3B;AAA9B;;AAEH,SAAK,aAAL;AACI,+BAAWJ,KAAX;AAAkBG,QAAAA,QAAQ,EAAEF,MAAM,CAACG;AAAnC;;AAEJ;AACIC,MAAAA,OAAO,CAACC,GAAR,CAAY,qFAAqFL,MAAM,CAACC,IAAxG;AACA,aAAOF,KAAP;AATR;AAWH,CAZD,C,CAcA;AACA;AACA;;;AACA,MAAMO,eAAe,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAgB;AAAA,4BAERb,KAAK,CAACc,UAAN,CAAiBV,WAAjB,EAA8B,EAA9B,CAFQ;AAAA;AAAA,QAE5BC,KAF4B;AAAA,QAErBU,QAFqB;;AAGpC,SAAO,oBAAC,cAAD,CAAgB,QAAhB;AAAyB,IAAA,KAAK,EAAGV,KAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,sBAAD,CAAwB,QAAxB;AAAiC,IAAA,KAAK,EAAEU,QAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACMF,QADN,CADD,CAAP;AAKH,CARD,C,CAUA;AACA;AACA;;;AACA,MAAMG,iBAAiB,GAAG,MAAM;AAC7B,QAAMC,OAAO,GAAGjB,KAAK,CAACkB,UAAN,CAAiBjB,cAAjB,CAAhB;;AACA,MAAGgB,OAAO,KAAKE,SAAf,EACA;AACG,UAAM,IAAIC,KAAJ,CAAW,6CAAX,CAAN;AACF;;AACD,SAAQH,OAAR;AACF,CAPD,C,CASA;AACA;AACA;;;AACA,MAAMI,yBAAyB,GAAG,MAAM;AACpC,QAAMJ,OAAO,GAAGjB,KAAK,CAACkB,UAAN,CAAiBf,sBAAjB,CAAhB;;AACA,MAAGc,OAAO,KAAKE,SAAf,EACA;AACQ,UAAM,IAAIC,KAAJ,CAAU,yDAAV,CAAN;AACP;;AAED,SAAOH,OAAP;AACF,CARF,C,CAWA;;;AACA,MAAMK,UAAU,GAAG,MAAOP,QAAP,IAAoB;AAClCL,EAAAA,OAAO,CAACC,GAAR,CAAY,qEAAZ,EADkC,CAElC;;AAEAI,EAAAA,QAAQ,CAAC;AAACR,IAAAA,IAAI,EAAE;AAAP,GAAD,EAAwBE,OAAxB,CAAR;AACAC,EAAAA,OAAO,CAACC,GAAR;AACJ,CAND;;AAQC,SACGK,iBADH,EAEGK,yBAFH,EAGGT,eAHH,EAIGU,UAJH","sourcesContent":["import React from 'react';\r\n\r\n\r\nconst EmployeContext = React.createContext();\r\nconst EmployeDispatchContext = React.createContext();\r\n\r\n\r\n\r\n//==================== LES FONCTIONS =====================//\r\n\r\n// ============= ADD DIVISION ==============================//\r\n\r\n\r\n\r\n\r\n\r\n// =============================================//\r\n//                 REDUCER\r\n//==============================================//\r\nconst rootReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case \"ADD_EMPLOYE\":\r\n           return { ...state , employes: [...state.employes, action.payload ]};\r\n       \r\n        case \"GET_EMPLOYE\":\r\n            return {...state, employes: action.payload }\r\n\r\n        default:\r\n            console.log(\"le type entrez est inconnue . Veuillez entrez un type d'action valide : ERROR : \" + action.type);\r\n            return state;\r\n    }\r\n}\r\n\r\n// =============================================//\r\n//                 PROVIDER\r\n//==============================================//\r\nconst EmployeProvider = ({children}) => {\r\n\r\n    const [ state, dispatch ] = React.useReducer(rootReducer, {});\r\n    return <EmployeContext.Provider value={ state } >\r\n            <EmployeDispatchContext.Provider value={dispatch}>\r\n                { children }\r\n            </EmployeDispatchContext.Provider>\r\n    </EmployeContext.Provider>\r\n}\r\n\r\n// =============================================//\r\n//                 le consummer du state\r\n//==============================================//\r\nconst useEmployeContext = () => {\r\n   const context = React.useContext(EmployeContext);\r\n   if(context === undefined)\r\n   {\r\n      throw new Error( \" le State doit s'uitliser dans le provider \")\r\n   }\r\n   return  context;\r\n}\r\n\r\n// =============================================//\r\n//                 le consummer du reducer\r\n//==============================================//\r\nconst useEmployeDispatchContext = () => {\r\n    const context = React.useContext(EmployeDispatchContext);\r\n    if(context === undefined)\r\n    {\r\n            throw new Error(\" la fonction dispatch doit s'utiliser dans le provider \")\r\n    }\r\n \r\n    return context;\r\n }\r\n\r\n\r\n//  ============================================================//\r\nconst getEmploye = async (dispatch) => {\r\n     console.log(\"Recupération de tous les employés dans notre base de donné backend \");\r\n     // ======= Fetch data from database\r\n     \r\n     dispatch({type: \"GET_EMPLOYE\"}, payload);\r\n     console.log()\r\n}\r\n\r\n export  {\r\n    useEmployeContext,\r\n    useEmployeDispatchContext,\r\n    EmployeProvider,\r\n    getEmploye\r\n };"]},"metadata":{},"sourceType":"module"}